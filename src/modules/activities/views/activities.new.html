<div class="container-fluid">

	<!-- Page Heading -->
	<div class="row">
		<div class="col-lg-12">
			<h2 class="page-header">
				Registro de Actividad
			</h2>
		</div>
	</div>
	<!-- /.row -->

	<div class="row">
		<div class="col-lg-12">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title"><i class="fa fa-calendar-check-o fa-fw"></i> Detalles </h3>
				</div>
				<div class="panel-body">
					<form name="activity_form">

						<div class="row">
							<div class="col-sm-6 form-group">
								<label>Fecha</label>
								<div class="input-group">
									<input type="text" class="form-control" uib-datepicker-popup="dd-MM-yyyy" show-button-bar="false" ng-model="actvity.date"
										is-open="popup1.opened" datepicker-options="dateOptions" ng-required="!saved" close-text="Close" />
									<span class="input-group-btn">
                                        <button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
                                    </span>
								</div>
							</div>

							<div class="col-sm-6 form-group">
								<label>Programa</label>
								<select class="form-control" ng-model="activity.program" ng-required="!saved">
                                    <!--option ng-repeat="program in programs" ng-value="program.id">{{ program.name }}</option-->
									<option value="55">Programa 1</option>
									<option value="66">Programa 2</option>
									<option value="77">Programa 3</option>
									<option value="88">Programa 4</option>
                                </select>
							</div>

							<div class="col-sm-6 form-group">
								<label>Subprograma</label>
								<select class="form-control" ng-model="activity.subprogram" ng-required="!saved">
                                    <!--option ng-repeat="subprogram in subprograms" ng-value="subprogram.id">{{ subprogram.name }}</option-->
									<option value="11">Subprograma 1</option>
									<option value="22">Subprograma 2</option>
									<option value="33">Subprograma 3</option>
									<option value="44">Subprograma 4</option>
                                </select>
							</div>

							<div class="col-sm-6 form-group">
								<label>Proyecto</label>
								<select class="form-control" ng-model="activity.project" ng-required="!saved">
                                    <!--option ng-repeat="project in projects" ng-value="project.id">{{ project.name }}</option-->
									<option value="1">Proyecto 1</option>
									<option value="2">Proyecto 2</option>
									<option value="3">Proyecto 3</option>
									<option value="4">Proyecto 4</option>
                                </select>
							</div>

							<div class="col-sm-6 form-group">
								<label>Meta</label>
								<select class="form-control" ng-model="activity.goal" ng-required="!saved">
                                    <!--option ng-repeat="project in projects" ng-value="project.id">{{ project.name }}</option-->
									<option value="22">Meta 1</option>
									<option value="33">Meta 2</option>
									<option value="44">Meta 3</option>
									<option value="55">Meta 4</option>
                                </select>
							</div>

							<div class="col-sm-6 form-group">
								<label>Contratista</label>
								<select class="form-control" ng-model="activity.goal" ng-required="!saved">
                                    <!--option ng-repeat="project in projects" ng-value="project.id">{{ project.name }}</option-->
									<option value="c22">Contratista 1</option>
									<option value="c33">Contratista 2</option>
									<option value="c44">Contratista 3</option>
									<option value="c55">Contratista 4</option>
                                </select>
							</div>

							<div class="col-lg-12 form-group">
								<label>Descripción</label>
								<textarea class="form-control" rows="3" ng-model="activity.description" ng-required="!saved"></textarea>
							</div>
						</div>

						<div class="row centered" ng-show="!saved">
							<button type="button" class="btn btn-success" ng-click="newActCtrl.saveActivity()" ng-disabled="activity_form.$invalid">Guardar</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>

	<div class="row" ng-show="saved">
		<div class="col-lg-12">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title"><i class="fa fa-users fa-fw"></i> Asistentes </h3>
				</div>
				<div class="panel-body">
					<div class="col-lg-12">
						<div class="table-responsive">
							<table class="table table-hover" id="activity-table">
								<thead>
									<tr>
										<th>Nombres</th>
										<th>Apellidos</th>
										<th>Edad</th>
										<th uib-tooltip="Tipo de Documento" tooltip-placement="top" tooltip-append-to-body="true">TD</th>
										<th>Documento</th>
										<th>Género</th>
										<th uib-tooltip="Condición Especial" tooltip-placement="top" tooltip-append-to-body="true">CE</th>
										<th uib-tooltip="Tipo de Víctima" tooltip-placement="top" tooltip-append-to-body="true">TV</th>
										<th uib-tooltip="Grupo Étnico" tooltip-placement="top" tooltip-append-to-body="true">GE</th>
										<th uib-tooltip="Discapacidad Mental" tooltip-placement="top" tooltip-append-to-body="true">DM</th>
										<th uib-tooltip="Discapacidad Motriz" tooltip-placement="top" tooltip-append-to-body="true">DMM</th>
										<th uib-tooltip="Discapacidad Visual" tooltip-placement="top" tooltip-append-to-body="true">DV</th>
										<th uib-tooltip="Discapacidad Auditiva" tooltip-placement="top" tooltip-append-to-body="true">DA</th>
										<th></th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="assistant in assistants">
										<td>{{ assistant.first_name}} {{ assistant.middle_name }}</td>
										<td>{{ assistant.last_name }} {{ assistant.second_last_name }}</td>
										<td>{{ assistant.age }}</td>
										<td>{{ assistant.td }}</td>
										<td>{{ assistant.document }}</td>
										<td>{{ assistant.gender }}</td>
										<td>{{ assistant.ce }}</td>
										<td>{{ assistant.eg }}</td>
										<td>{{ assistant.tv }}</td>
										<td>{{ assistant.dm }}</td>
										<td>{{ assistant.dmm }}</td>
										<td>{{ assistant.dv }}</td>
										<td>{{ assistant.da }}</td>
										<td>
											<div ng-click="newActCtrl.deleteAssistant($index)">
												<i class="fa fa-fw fa-close"></i>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<div class="col-lg-12 centered" ng-show="assistants.length > 0">
						<button type="button" class="btn btn-success" ng-click="newActCtrl.saveAssistants()">Guardar</button>
					</div>
				</div>
			</div>

		</div>
	</div>

	<div class="row" ng-show="saved">
		<div class="col-lg-12">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title"><i class="fa fa-user fa-fw"></i> Registro Asistente </h3>
				</div>
				<div class="panel-body">
					<form name="assistant_form">
						<div class="row">
							<div class="form-group col-lg-6">
								<label>Primer Nombre</label>
								<input type="text" ng-model="new_activity.first_name" class="form-control" required>
							</div>

							<div class="form-group col-lg-6">
								<label>Segundo Nombre</label>
								<input type="text" ng-model="new_activity.middle_name" class="form-control" required>
							</div>

							<div class="form-group col-lg-6">
								<label>Primer Apellido</label>
								<input type="text" ng-model="new_activity.last_name" class="form-control" required>
							</div>

							<div class="form-group col-lg-6">
								<label>Segundo Apellido</label>
								<input type="text" ng-model="new_activity.second_last_name" class="form-control" required>
							</div>

							<div class="form-group col-lg-3">
								<label>Edad</label>
								<input type="number" ng-model="new_activity.age" min="0" max="150" class="form-control" required>
							</div>

							<div class="form-group col-lg-3">
								<label>Tipo Documento</label>
								<select class="form-control" ng-model="new_activity.td" required>
                                <option value="NUI">NUI</option>
                                <option value="RC">RC</option>
                                <option value="TI">TI</option>
                                <option value="CC">CC</option>
                                <option value="CE">CE</option>
                                <option value="PA">PA</option>
                                <option value="SD">SD</option>
							</select>
							</div>

							<div class="form-group col-lg-6">
								<label> Número Documento</label>
								<input type="text" ng-model="new_activity.document" class="form-control" required>
							</div>

							<div class="form-group col-lg-3">
								<label>Género</label>
								<select class="form-control" ng-model="new_activity.gender" required>
                                <option value="M">Masculino</option>
                                <option value="F">Femenino</option>
                                <option value="LGBTI">LGBTI</option>
							</select>
							</div>

							<div class="form-group col-lg-3">
								<label>Condición Especial</label>
								<select class="form-control" ng-model="new_activity.ce" required>
                                <option value="NA">No Aplica</option>
                                <option value="I">I</option>
                                <option value="R">R</option>
                                <option value="O">O</option>
							</select>
							</div>

							<div class="form-group col-lg-3">
								<label>Grupo Étnico</label>
								<select class="form-control" ng-model="new_activity.eg" required>
                                <option value="NA">No Aplica</option>
                                <option value="I">Indígena</option>
                                <option value="A">Afrodescendiente</option>
                                <option value="R">Raizal</option>
							</select>
							</div>

							<div class="form-group col-lg-3">
								<label>Tipo Víctima</label>
								<select class="form-control" ng-model="new_activity.tv" required>
                                <option value="NA">No Aplica</option>
                                <option value="O">Otra</option>
							</select>
							</div>

							<div class="form-group col-lg-3">
								<label>Discpacidad Mental</label>
								<select class="form-control" ng-model="new_activity.dm" required>
                                <option value="NA">No Aplica</option>
                                <option value="0">0</option>
                                <option value="1">1</option>
							</select>
							</div>

							<div class="form-group col-lg-3">
								<label>Discpacidad Motriz</label>
								<select class="form-control" ng-model="new_activity.dmm" required>
                                <option value="00">00</option>
                                <option value="01">01</option>
                                <option value="02">02</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="20">20</option>
                                <option value="21">21</option>
                                <option value="22">22</option>
							</select>
							</div>

							<div class="form-group col-lg-3">
								<label>Discpacidad Visual</label>
								<select class="form-control" ng-model="new_activity.dv" required>
                                <option value="NA">No Aplica</option>
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
							</select>
							</div>

							<div class="form-group col-lg-3">
								<label>Discpacidad Auditiva</label>
								<select class="form-control" ng-model="new_activity.da" required>
                                <option value="NA">No Aplica</option>
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
							</select>
							</div>
						</div>
						<div class="row centered">
							<p>
							<button type="button" class="btn btn-success btn-md" ng-click="newActCtrl.addAssistant()" ng-disabled="assistant_form.$invalid">Agregar Asistente</button>	
							</p>
							
						</div>
					</form>

				</div>
			</div>

		</div>
	</div>

	<div class="row centered m-10">
        <p>
            <button type="button" class="btn btn-success button-md" ng-click="newActCtrl.upload()">Cargar Actividad</button>
            <!--button type="button" class="btn btn-success button-md" ng-click="planCtrl.downloadFormat()">Descargar Formato
            </button-->
        </p>
    </div>


	<!-- /.row -->
</div>