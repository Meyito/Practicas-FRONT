<div class="container-fluid">

	<!-- Page Heading -->
	<div class="row">
		<div class="col-lg-12">
			<h1 class="page-header">
				Contratistas
			</h1>
		</div>
	</div>
	<!-- /.row -->

	<div class="row">
		<div ng-class="!selectedContractor.id ? 'col-lg-12' : 'col-lg-9'">
			<div class="panel panel-default">
				<div class="panel-body">
					<div class="row">
						<div class="col-lg-12">
							<div class="m-b-20 m-t-20 pull-right">
								<button type="button" class="btn btn-success" ng-click="contractsCtrl.add()"><i class="fa fa-fw fa-plus"></i>Nuevo Contratista</button>
							</div>
						</div>
					</div>
					<div class="col-lg-12">
						<md-table-container>
							<table md-table>
								<thead md-head>
									<tr md-row>
										<th md-column><span>Tipo de Identificación</span></th>
										<th md-column><span>Número de Documento</span></th>
										<th md-column>Nombre</th>
										<th md-column>Apellido</th>
										<th md-column></th>
									</tr>
								</thead>
								<tbody md-body>
									<tr md-row ng-repeat="contractor in contractors.items" ng-click="contractsCtrl.selectContractor(contractor)">
										<td md-cell>{{contractor.identification_type.name}}</td>
										<td md-cell>{{contractor.identification_number}}</td>
										<td md-cell>{{contractor.first_name}}</td>
										<td md-cell>{{contractor.last_name}}</td>
										<td md-cell>
											<div ng-click="contractsCtrl.edit(contractor)">
												<i class="fa fa-fw fa-pencil-square-o"></i>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
						</md-table-container>

						<md-table-pagination md-label="{page: 'Página:', rowsPerPage: 'Filas por página:', of: 'de'}" md-limit="configDT.limit" md-limit-options="[10]"
							md-page="configDT.page" md-total="{{contractors.count}}" md-on-paginate="projectsCtrl.getProjects" md-page-select="false"></md-table-pagination>
					</div>

				</div>
			</div>

		</div>

		<div class="col-lg-3" ng-show="selectedContractor.id">
			<div class="panel panel-default">
				<div class="panel-body">
					<div class="row m-0">
						<h4>Contratos de {{selectedContractor.first_name}} {{selectedContractor.last_name}}</h4>
					</div>
					<div class="row m-b-10 m-r-0">
						<div class="pull-right">
							<button type="button" class="btn btn-link" ng-click="contractsCtrl.addContract()">Nuevo Contrato</button>
						</div>
					</div>
					<div>
						<div class="list-group">
							<a class="list-group-item" ng-repeat="contract in selectedContractor.contracts">
								<h5 class="list-group-item-heading">Contrato #{{contract.code}}</h5>
								<p class="list-group-item-text"><i class="fa fa-calendar fa-fw"></i> Inicio: {{contract.init_date | date:'dd-MM-yyyy'}}</p>
								<p class="list-group-item-text"><i class="fa fa-calendar fa-fw"></i> Fin: {{contract.end_date | date:'dd-MM-yyyy'}}</p>
							</a>
						</div>
					</div>
				</div>

			</div>
		</div>
		<!-- /.row -->
	</div>